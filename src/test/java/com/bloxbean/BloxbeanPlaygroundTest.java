package com.bloxbean;

import com.bloxbean.cardano.client.exception.CborDeserializationException;
import com.bloxbean.cardano.client.transaction.spec.Transaction;
import com.bloxbean.cardano.client.util.HexUtil;
import io.micronaut.runtime.EmbeddedApplication;
import io.micronaut.test.extensions.junit5.annotation.MicronautTest;
import org.junit.jupiter.api.Test;
import org.junit.jupiter.api.Assertions;

import jakarta.inject.Inject;

@MicronautTest
class BloxbeanPlaygroundTest {

    @Inject
    EmbeddedApplication<?> application;

    @Test
    void testItWorks() {
        Assertions.assertTrue(application.isRunning());
    }

    @Test
    void testTransaction() throws CborDeserializationException {
//        String txnHash = "84a30081825820faa008f2600fbd9b2e60ae9782e1b1e554000dec3c2f6bae987977d6e7cf76b0010182825839002121b80cd709cf216e589979633de48fd36c77840098e186ecd1d6804ba26a695e22ed25c4506e2f09662adfc531ad705dbf3546764c4c311a0098968082583900d545b9400912c0cf6d30f1522ee3fc4403b4363a10e319aa8bcd36838c93ab5195fa07602802cbee3a4047c2ff58c4acfea20fd48dbadf45821a35cb2594a1581c329728f73683fe04364631c27a7912538c116d802416ca1eaf2d7a96ab4262621a000249f0437a63641a0003d09044616161611a00055730447a616161191964447a7a7a7a1a000249f04561616161611a000557304562626262621a00034bc0457172657463191770457a646263641927104671686a6a6a6a192ee0467a78616263641a000249f0021a0002a885a0f5f6";
//
//        Transaction transaction = Transaction.deserialize(HexUtil.decodeHexString(txnHash));

        String txnHash = "84a30081825820faa008f2600fbd9b2e60ae9782e1b1e554000dec3c2f6bae987977d6e7cf76b0010182825839002121b80cd709cf216e589979633de48fd36c77840098e186ecd1d6804ba26a695e22ed25c4506e2f09662adfc531ad705dbf3546764c4c311a00e4e1c082583900d545b9400912c0cf6d30f1522ee3fc4403b4363a10e319aa8bcd36838c93ab5195fa07602802cbee3a4047c2ff58c4acfea20fd48dbadf45821a357eda54a1581c329728f73683fe04364631c27a7912538c116d802416ca1eaf2d7a96ab4262621a000249f0437a63641a0003d09044616161611a00055730447a616161191964447a7a7a7a1a000249f04561616161611a000557304562626262621a00034bc0457172657463191770457a646263641927104671686a6a6a6a192ee0467a78616263641a000249f0021a0002a885a0f5f6";
        Transaction transaction = Transaction.deserialize(HexUtil.decodeHexString(txnHash));

        String txnHash1 ="84a60081825820faa008f2600fbd9b2e60ae9782e1b1e554000dec3c2f6bae987977d6e7cf76b001018382583900d545b9400912c0cf6d30f1522ee3fc4403b4363a10e319aa8bcd36838c93ab5195fa07602802cbee3a4047c2ff58c4acfea20fd48dbadf45821a001e8480a1581c869708e97e418f1422e22f8b026559a565aab320184fdd98efff4f4ca14261620182583900c93b6cac143fe60f8914f44a899f5329433ccec3d53721ef350a0fd8cb873402c73ad8f239f76fb559bb4e3bcff22b310b01eadd3ce205e71a00e4e1c082583900d545b9400912c0cf6d30f1522ee3fc4403b4363a10e319aa8bcd36838c93ab5195fa07602802cbee3a4047c2ff58c4acfea20fd48dbadf45821a355fdc24a1581c329728f73683fe04364631c27a7912538c116d802416ca1eaf2d7a96ab4262621a000249f0437a63641a0003d09044616161611a00055730447a616161191964447a7a7a7a1a000249f04561616161611a000557304562626262621a00034bc0457172657463191770457a646263641927104671686a6a6a6a192ee0467a78616263641a000249f0021a00032235031a02e79bbc075820c7f307b4e6d558986c111ea4c67ff73bcc2de58456aef6c29562d27511a9fa6309a1581c869708e97e418f1422e22f8b026559a565aab320184fdd98efff4f4ca142616201a101818200581cccf4467b48cb353638796318fe006870e5e3f2344025e762aa6778f1f5f6";
        Transaction transaction1 = Transaction.deserialize(HexUtil.decodeHexString(txnHash1));

        System.out.println(transaction);
        System.out.println(transaction1);
    }

}
